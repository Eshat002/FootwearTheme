{% if section.settings['show-announcementbar'] %}
  <section>
    <div class="announcement-bar">
      <div class="announcement-bar-left-section">
        {% if section.settings.image != blank %}
          <img width="40" height="40" loading="lazy" src="{{section.settings.image | image_url }}" alt="image">
        {% else %}
          <img width="40" height="40" loading="lazy" src="{{'a.png' | asset_url}}" alt="image">
        {% endif %}

        {% if section.settings.image2 != blank %}
          <img width="40" height="40" loading="lazy" src="{{section.settings.image2 | image_url }}" alt="image2">
        {% else %}
          <img width="40" height="40" loading="lazy" src="{{'a.png' | asset_url}}" alt="image">
        {% endif %}
      </div>
      <div class="announcementbar-right-section">
        <div class="announcement-bar-inner-list">
          {% if section.blocks.size == 0 %}
            <li><a href="#">Help</a></li>
            {% if shop.customer_accounts_enabled %}
              {% if customer %}
                <li><a href="/account">Account</a></li>
              {% else %}
                <li><a href="/account/login">Login</a></li>
              {% endif %}
            {% endif %}
          {% else %}
            {% for block in section.blocks %}
              <li>
                <a href="{{block.settings.link}}">{{ block.settings.text }}</a>
              </li>
            {% endfor %}
          {% endif %}
        </div>
      </div>
    </div>
  </section>
{% endif %}

{% style %}
  .announcement-bar-left-section {
    display: flex !important;
  }

  .announcement-bar{
    background:  {{section.settings.background}};
    color: {{section.settings.text_color}}
  }
{% endstyle %}

{% schema %}
{
  "name": "announcement-bar",
  "settings": [
    {
      "type": "checkbox",
      "id": "show-announcementbar",
      "label": "Show Announcementbar",
      "default": true
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Pick Image",
      "info": "png recommended"
    },
    {
      "type": "image_picker",
      "id": "image2",
      "label": "Pick Second Image",
      "info": "png recommended"
    },

    {
      "type": "color",

      "id": "background",
      "label": "Background Color",
      "default": "#ffffff"
    },
    { "type": "color", "id": "text_color", "label": "Text Color", "default": "#000000" }
  ],

  "blocks": [
    {
      "type": "links",
      "name": "Links",
      "limit": 4,
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "Text",
          "default": "link"
        },

        {
          "type": "url",
          "id": "link",
          "label": "link"
        }
      ]
    }
  ],

  "presets": [
    {
      "name": "announcement-bar"
    }
  ]
}
{% endschema %}
